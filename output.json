Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import json

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  from datetime import datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Este codigo sirve para analizar encabezados de fragmentos (chunks) 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Devuelve una linea de enteros tras extraer informacion sobre las

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # lineas originales y nuevas

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def parse_chunk_header(s): 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Obtiene el contenido inicial de un archivo en una 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # revision especifica utilizando el comando "git show"

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # y procesando la salida

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Busca el indice de una linea dentro de una lista de lineas

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # en un contexto relacionado con commits

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Segun si la linea ha sido eliminada (decrece) o insertada

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # De esta manera las lineas se ordenan segun su insercion

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Busca la siguiente linea que no ha sido eliminada

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # en ningun commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # PRINT OUTPUT.JSON

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  # Guarda info en OUTPUT.JSON

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def save_file(total_data, name_file):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    #Verificar si existe el archivo, name_file + fecha

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -    # Crea y escibe en el archivo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    with open(name_file, 'a') as output_file:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      output_file.write(total_data)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #json.dump(total_data, output_file, indent=2)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Imprime informacion sobre las lineas en la lista ALL_LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # utilizando informacion contenida en el diccionario "revs"

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -      # Lineas que no se han eliminado en un commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -        if line.text.startwith('def'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          #Guardar en archivo, y guardo siempre que no tuvo un commit que lo elimino

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          #Verifica que no se haya eliminado

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          fecha_start = beg.date #Comienzo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          fecha_end = end.date #Final

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        #if line.text.startwith('def'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        #Verifica que no se haya eliminado

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        # Convierte las cadenas en objetos datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Commit......', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Linea:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Longevidad....', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(beg.date, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        print('Fecha final: ', end.date)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Longevidad en dias:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        beg_datetime = datetime.strptime(beg.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        end_datetime = datetime.strptime(end.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        long = end_datetime - beg_datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file(str(long.days) + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -      # Lineas eliminadas en un commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Commit...', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Linea:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Longevidad....', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(beg.date, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        print('Fecha final: ', end.date)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Longevidad en dias:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        try:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.strptime(end.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        except:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.now()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = end_datetime.strftime('%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.strptime(end_datetime, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        beg_datetime = datetime.strptime(beg.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        long = end_datetime - beg_datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file(str(long.days) + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # TOTAL_DATA

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      def data(arg1, arg2):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        total_data =  {

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          "Object1": arg1,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          "Object2": arg2

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        }

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return total_data

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        # Con el comando cmd obtiene todos los commits del archivo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        # y los almacena en 'hashes'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # Almacena la informacion de los commits en 'date_author'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # La longitud de 'hashes' y 'date_author' debe de coincidir,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # ya que se corresponde con el nº de commits

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # Se crea el objeto revision (revs) 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # con atributos como 'hash', 'date' y 'author'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # Crea objetos linea (ALL_LINES) con

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # atributos como 'text', 'begrev' y 'endrev'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      ALL_LINES=[]                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                    in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                    continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                          

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ALL_LINES ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print(revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print(type(revs))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    main()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  Subproject commit d3926059717af80b7db4ed02536ca19851b7a57f

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def parse_chunk_header(s):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    ALL_LINES=[]                        # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                  in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                  continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -             

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    main()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  0
 Linea -  Subproject commit d3926059717af80b7db4ed02536ca19851b7a57f

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def parse_chunk_header(s):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    ALL_LINES=[]                        # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                  in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                  continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -             

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    main()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  import json

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  from datetime import datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Este codigo sirve para analizar encabezados de fragmentos (chunks) 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Devuelve una linea de enteros tras extraer informacion sobre las

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # lineas originales y nuevas

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def parse_chunk_header(s): 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Obtiene el contenido inicial de un archivo en una 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # revision especifica utilizando el comando "git show"

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # y procesando la salida

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Busca el indice de una linea dentro de una lista de lineas

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # en un contexto relacionado con commits

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Segun si la linea ha sido eliminada (decrece) o insertada

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # De esta manera las lineas se ordenan segun su insercion

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Busca la siguiente linea que no ha sido eliminada

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # en ningun commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # PRINT OUTPUT.JSON

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  # Guarda info en OUTPUT.JSON

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def save_file(total_data, name_file):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    #Verificar si existe el archivo, name_file + fecha

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -    # Crea y escibe en el archivo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    with open(name_file, 'a') as output_file:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      output_file.write(total_data)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #json.dump(total_data, output_file, indent=2)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # Imprime informacion sobre las lineas en la lista ALL_LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  # utilizando informacion contenida en el diccionario "revs"

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -      # Lineas que no se han eliminado en un commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -        if line.text.startwith('def'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          #Guardar en archivo, y guardo siempre que no tuvo un commit que lo elimino

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          #Verifica que no se haya eliminado

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          fecha_start = beg.date #Comienzo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          fecha_end = end.date #Final

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-05 Longevidad -  1
 Linea -          save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        #if line.text.startwith('def'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        #Verifica que no se haya eliminado

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        # Convierte las cadenas en objetos datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Commit......', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Linea:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Longevidad....', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(beg.date, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        print('Fecha final: ', end.date)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Longevidad en dias:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        beg_datetime = datetime.strptime(beg.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        end_datetime = datetime.strptime(end.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        long = end_datetime - beg_datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file(str(long.days) + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -      # Lineas eliminadas en un commit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Commit...', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Linea:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        save_file(line.text, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file('Longevidad....', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        save_file(beg.date, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-05 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  1
 Linea -        print('Fecha final: ', end.date)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file('Longevidad en dias:' + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        try:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.strptime(end.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        except:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.now()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = end_datetime.strftime('%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -          end_datetime = datetime.strptime(end_datetime, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        beg_datetime = datetime.strptime(beg.date, '%Y-%m-%d')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        long = end_datetime - beg_datetime

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -        save_file(str(long.days) + ' ', 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # TOTAL_DATA

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      def data(arg1, arg2):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        total_data =  {

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          "Object1": arg1,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          "Object2": arg2

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        }

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        return total_data

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        # Con el comando cmd obtiene todos los commits del archivo

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        # y los almacena en 'hashes'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # Almacena la informacion de los commits en 'date_author'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # La longitud de 'hashes' y 'date_author' debe de coincidir,

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # ya que se corresponde con el nº de commits

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # Se crea el objeto revision (revs) 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # con atributos como 'hash', 'date' y 'author'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # Crea objetos linea (ALL_LINES) con

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          # atributos como 'text', 'begrev' y 'endrev'

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      ALL_LINES=[]                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                    in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                    continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                  

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                          

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -                assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -          save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -        sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ALL_LINES ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print(revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print(type(revs))

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      print('--- ---')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -      #save_file(ALL_LINES, 'output.json')

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-04 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  2
 Linea -    main()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-06 Longevidad -  0
 Linea -  Subproject commit d3926059717af80b7db4ed02536ca19851b7a57f

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def parse_chunk_header(s):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    ALL_LINES=[]                        # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                  in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                  continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -             

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -              assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -      sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-06 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  5
 Linea -    main()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -  paulasm.Fecha DEL -  2024-03-11 Longevidad -  0
 Linea -  Subproject commit d3926059717af80b7db4ed02536ca19851b7a57f

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #!/usr/bin/env python

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Copyright 2011, Dan Gindikin <dgindikin -AT- gmail.com>

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # This program is free software; you can redistribute it and/or modify it under

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # the terms of the GNU General Public License as published by the Free Software

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Foundation; either version 2 of the License, or (at your option) any later

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # version.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # This program is distributed in the hope that it will be useful, but WITHOUT

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # FOR A PARTICULAR PURPOSE. See the GNU General Public License for more

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # details.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  #

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # You should have received a copy of the GNU General Public License along with

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # this program; if not, write to the Free Software Foundation, Inc., 51

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  # Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA.

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import sys

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import os

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import string

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import re

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  import getopt

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  VERSION = '0.2'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  Chunk_Header_Pat = re.compile('@@ -([0-9]+)(?:,([0-9]+))? \+([0-9]+)(?:,([0-9]+))? @@')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  class struct:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def parse_chunk_header(s):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    origL, del_N, newL, add_N = Chunk_Header_Pat.match(s).groups()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if del_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      del_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if add_N is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      add_N = 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return list(map(int,(origL, del_N, newL, add_N)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def get_initial_version(first_rev,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    lines = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    file_started_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in os.popen('git show %s %s'%(first_rev,fn)):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if file_started_FL:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        assert line[0]=='+',("don't recognize format",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        lines.append(line[1:]) # take out the leading '+'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        if line.startswith('@@ -0,0 '):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          file_started_FL=True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def find_index(ALL_LINES,L,current_rev=None):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while L:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if i==len(ALL_LINES):               # appending to the end

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if ALL_LINES[i].endrev == None: # this line is still alive

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        if ALL_LINES[i].begrev==current_rev: # this line was inserted during the current revision, doesn't count

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          pass

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          L-=1 # count the line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      elif ALL_LINES[i].endrev == current_rev: # still count the line, it was erased during the current revision

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        L-=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # ffwd through deleted lines

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while i<len(ALL_LINES) and ALL_LINES[i].endrev!=None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def find_next_alive(ALL_LINES,i):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    while 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if ALL_LINES[i].endrev==None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        return i

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def print_so_far(ALL_LINES,revs):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    #head_rev.hash = '  HEAD  '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.hash = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.date = '          '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    head_rev.author = '        '

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    i=0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in ALL_LINES:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      beg = revs[line.begrev]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      end = revs[line.endrev] if line.endrev is not None else head_rev

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #if line.endrev is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  i+=1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  print '%3d'%i,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #  print '   ',

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s %s %s %s %s %s:'%(beg.hash[:8],end.hash[:8],beg.date,end.date,beg.author,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '(%s %s %s)(%s %s %s)'%(beg.hash[:8],beg.date,beg.author,end.hash[:8],end.date,end.author),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print '%s (%s %s) %s (%s %s)'%(beg.hash[:8],beg.author,beg.date,end.hash[:8],end.author,end.date),line.text,

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if line.endrev is not None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('-%s (%s %s) +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print(' %s  %s %s  +%s (%s %s)'%(end.hash[:8],end.author,end.date,beg.hash[:8],beg.author,beg.date),line.text, end=' ')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  UsageString="""\

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  usage: git-blameall [options] file

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -h, --help            Show this help info and exit

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -q                    Quiet, do not show progress information (Default: off)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      -v, --version         Show version information

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  """

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def usage():

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    print(UsageString)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    sys.exit(1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  def main():

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if len(sys.argv)==1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # PROCESS COMMAND LINE ARGUMENTS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Flags, Args = getopt.getopt(sys.argv[1:], 'hqv', ['help','debug', 'version'])

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Flags = dict(Flags)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      #print Flags, Args

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if '-h' in Flags or '--help' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        usage()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if '-v' in Flags or '--version' in Flags:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print(VERSION)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.exit()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      Quiet = '-q' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      V = '--debug' in Flags

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert len(Args)==1, ("Expecting only one file",Args)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      fn = Args[0]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # GET ALL REVISIONS

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd         = 'git rev-list HEAD -- %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      hashes      = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('%d revisions\n'%(len(hashes)))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # GET REVISION INFO

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if 1:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd         = 'git log --format="%%ad %%cn" --date=short %s'%fn

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe        = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      date_author = pipe.readlines()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert len(hashes)==len(date_author), ('mismatch between output of "git rev-list" and "git log"', hashes, date_author)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    revs = []

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for hash, date_au in zip(hashes,date_author):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.hash = hash.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.date, x.author = date_au.split(' ',1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.author = x.author.strip()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      revs.append(x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      sys.stderr.write('%s --- %s\n'%(revs[-1].date,revs[0].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    forced_author_len = 8

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for x in revs:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if len(x.author) > forced_author_len:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        x.author = x.author[:forced_author_len-1]+'.'

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        #x.author = x.author.center(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        x.author = x.author.ljust(forced_author_len)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    ALL_LINES=[]                        # INITIAL VERSION

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for line in get_initial_version(revs[-1].hash,fn):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.text    = line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.begrev  = len(revs)-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      x.endrev  = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      ALL_LINES.append(x)  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    # process all the revisions

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    origL, del_N, newL, add_N = 0,0,0,0

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    for r in range(len(revs)-1,0,-1):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('\r')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        sys.stderr.write('Processing revision: (%d/%d) %s' % (len(revs)-r+1,len(revs),revs[r-1].date))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      cmd  = 'git diff -U0 %s %s %s'%(revs[r].hash,revs[r-1].hash,fn)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      pipe = os.popen(cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print('[cmd]',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      for line in pipe:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if in_header_FL:              # SKIP OVER HEADER

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              if line.startswith('@@'): # we hit our first chunk

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                  in_header_FL = False

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                  continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if line=='\ No newline at end of file\n':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              continue

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            print('[line]',repr(line),'add_N=%d del_N=%d'%(add_N,del_N))

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          if line.startswith('@@'):     # RECEIVED A NEW CHUNK!

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            origL, del_N, newL, add_N = parse_chunk_header(line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              print('chunk',origL,del_N,newL,add_N)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          elif del_N:                   # PROCESSING DELETED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert line.startswith('-'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if all_index is None:       # find index in ALL_LINES for origL

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_index(ALL_LINES, origL-1, current_rev=r-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_next_alive(ALL_LINES, all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -             

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            #if V: 

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            #  print 'DEL origL=%d del_N=%d all_index=%d text=%r'%(origL,del_N,all_index,ALL_LINES[all_index].text)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert ALL_LINES[all_index].text == line[1:], \

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              ("diff processing screwed up, marking the wrong deletion line",ALL_LINES[all_index].text,line,all_index)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            ALL_LINES[all_index].endrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            del_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if del_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          elif add_N:                   # PROCESSING ADDED LINES

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            assert line.startswith('+'),line

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if all_index is None:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = find_index(ALL_LINES, newL-1)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index += 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -                        

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x = struct()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.text = line[1:]

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.begrev = r-1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            x.endrev = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            ALL_LINES.insert(all_index, x)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            add_N -= 1

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if add_N == 0:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              all_index = None

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            if line.startswith('diff'):

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # This file was deleted, and then recreated, in this situation

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # we may get several "diff" blocks out of a single git-diff command

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              # start processing the new block

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              in_header_FL = True

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -            else:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -              assert 0, ("shouldn't reach here unless misparsed diff output",line)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -          

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      assert not pipe.close(), ('Command errored',cmd)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      if V:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print()

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -        print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    if not Quiet:

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -      sys.stderr.write('\n')

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    print_so_far(ALL_LINES,revs)

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -  if __name__=='__main__':

Autor INIT -  paulasm.Fecha INIT -  2024-03-11 Autor DEL -          Fecha DEL -             Longevidad -  10
 Linea -    main()

